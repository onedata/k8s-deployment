global:
  # TODO: Find a way to eliminate necessity for region and tld values
  # to make deployment cluster independent
  region: kube
  tld: darosys.eu
  imagePullSecrets:
  - regsecret

image: docker.onedata.org/rest-cli:develop
#image: docker.onedata.org/rest-cli:

oneprovider:
  - oneprovider-krakow

ceph_enabled: true

spaces:
  - name: "krk-c"
    supports:
      - provider: "krakow"
        storage_name: "ceph"
        size: '100000000000'

# Those variables are the unfortunate necessity of an issue discussed here:
# https://github.com/kubernetes/helm/issues/2479]
saml-idp:
  enabled: *idp_enabled
luma:
  enabled: *luma_enabled
oneclient:
  enabled: *oneclients_enabled
onedata-cli:
  enabled: *onedata_cli_enabled
volume-s3:
  enabled: *s3_enabled
volume-ceph:
  enabled: *ceph_enabled
volume-nfs:
  enabled: *nfs_enabled
volume-gluster:
  enabled: *gluster_enabled
volume-swift:
  enabled: *swift_enabled

onedata-1p: 
  #oz_image: &oz_image onedata/onezone:17.06.0-rc8
  #oz_image: &oz_image docker.onedata.org/onezone:ID-91f8e5bdcd-debug
  oz_image: &oz_image docker.onedata.org/onezone:ID-3ba0ad3fb2 
  #op_image: &op_image onedata/oneprovider:17.06.0-rc8
  #op_image: &op_image docker.onedata.org/oneprovider:ID-42751a23c8
  op_image: &op_image docker.onedata.org/oneprovider:ID-e0ceeb5126
  #oc_image: &oc_image onedata/oneclient:17.06.0-rc8
  #oc_image: &oc_image docker.onedata.org/oneclient:ID-cc3f9ecf4c
  oc_image: &oc_image docker.onedata.org/oneclient:ID-8347a594bf
  #cli_image: &cli_image onedata/rest-cli:17.06.0-rc8
  cli_image: &cli_image docker.onedata.org/rest-cli:develop

  log_level: &log_level "info"
  onepanel_batch_mode_enabled: &onepanel_batch_mode_enabled true
  oneclients_debug_mode_enabled: &oneclients_debug_mode_enabled true
  onedata_anti_affinity_enabled: &onedata_anti_affinity_enabled true

  oneproviders_generate_certificates: &oneproviders_generate_certificates true

  oneproviders_nodes_count: &oneproviders_nodes_count 1
  number_of_oneclients: &number_of_oneclients 5
  oneprovider_cluster_configs: &oneprovider_cluster_configs
    managers: [ ]
    workers: [ ]
    databases: [ ]

  oneclients_enabled: &oneclients_enabled true
  onedata_cli_enabled: &onedata_cli_enabled true

  luma_enabled: &luma_enabled false 
 
  posix_enabled: &posix_enabled true
  s3_enabled: &s3_enabled false
  ceph_enabled: &ceph_enabled false
  hp_ceph_enabled: &hp_ceph_enabled true
  nfs_enabled: &nfs_enabled false
  gluster_enabled: &gluster_enabled false
  swift_enabled: &swift_enabled false

  # Explicately wait for onezone pod to enter ready state before starting oneproviders
  wait-for-onezone-enabled: &wait-for-onezone-enabled false

  luma: &luma_global
    enabled: *luma_enabled
    lumaCacheTimeout: 5
    lumaApiKey: example_api_key

    posix:
      enabled: &luma_enabled_posix true
      lowest_uid: 1000
      highest_uid: 65536
      
    s3:
      enabled: &luma_enabled_s3 false
      access_key: accessKey
      secret_key: verySecretKey

    ceph:
      enabled: &luma_enabled_ceph false
      pool_name: test
      username: client.k8s
      key: AQC1oSZZZfucFxAA34MekwoWBm7qpGd0A8u

    swift:
      enabled: &luma_enabled_swift false
      username: swift
      password: swift

    gluster:
      enabled: &luma_enabled_gluster false

    nfs:
      enabled: &luma_enabled_nfs false
      lowest_uid: 1000
      highest_uid: 65536

  # Onezone configuration
  onezone:
    image: *oz_image
    onepanel_batch_mode_enabled: *onepanel_batch_mode_enabled
    log_level: *log_level
    generate-certificates: 
      enabled: true
    onezone_nodes_count: 1
    cluster_config:
      managers: [ ]
      workers: [ ]
      databases: [ ]
    saml-idp:
      enabled: &idp_enabled true
      generate-certificates: 
        enabled: true

  # What follows are the providers configurations for providers designated as:
  # krakow, paris, and lisbon
  oneprovider-krakow:
    suffix: &op1s krakow
    geoLatitude: 50.0647
    geoLongitude: 19.9450

    image: *op_image
    onepanel_batch_mode_enabled: *onepanel_batch_mode_enabled
    log_level: *log_level
    nameOverride: oneprovider
    wait-for-onezone: *wait-for-onezone-enabled

    oneprovider_nodes_count: 1
    cluster_config:
      managers: [ 0 ]
      workers: [ 0 ]
      databases: [ 0 ]

    onezone_service_url:
      type: auto-generate
      disableSuffix: true

    generate-certificates: 
      enabled: *oneproviders_generate_certificates

    luma:
      suffix: *op1s
      << : *luma_global

    oneclient:
      number_of_oneclients: *number_of_oneclients
      image: *oc_image
      debug_mode: *oneclients_debug_mode_enabled
      enabled: *oneclients_enabled
      suffix: *op1s
      onedata_cli:
        image: *cli_image
    onedata-cli:
      image: *cli_image
      enabled: *onedata_cli_enabled
      suffix: *op1s
    posix:
      enabled: *posix_enabled
      luma-enabled: *luma_enabled_posix
    volume-s3:
      enabled: *s3_enabled
      suffix: *op1s
      luma-enabled: *luma_enabled_s3
    volume-ceph:
      enabled: *ceph_enabled
      suffix: *op1s
      luma-enabled: *luma_enabled_ceph
    volume-hp-ceph:
      enabled: *hp_ceph_enabled
      suffix: *op1s
      luma-enabled: *luma_enabled_ceph
      monitor_ip: dark5-ceph-mon.darosys.eu
      key: AQDBunZaynoBHBAAjWu8dBEWYO6Jp666mBJGzw==
      cluster_name: ceph
      pool_name: onedata
      username: client.admin
      insecure: true
    volume-nfs:
      enabled: *nfs_enabled
      suffix: *op1s
      luma-enabled: *luma_enabled_nfs
    volume-gluster:
      enabled: *gluster_enabled
      suffix: *op1s
      luma-enabled: *luma_enabled_gluster
    volume-swift:
      enabled: *swift_enabled
      suffix: *op1s
      luma-enabled: *luma_enabled_swift
